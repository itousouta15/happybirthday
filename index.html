<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>生日快樂❤!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <!-- Avatar -->
    <div class="cs"></div>
    <canvas class="canvas" width="1820" height="905"></canvas>
    <!-- Birthday wishes -->
    <p class="text">
        <span id="typewriter"></span><br />
        <span class="life-time-label">妳來到這個世界已經</span> <span id="span_dt_dt"></span>
        <br />
        <span id="random-words" style="font-size: 1.2em; color: #ffffdd;"></span>
    </p>
    <script>
    // Typewriter effect
    const message = "寶寶，生日快樂！";
    let typeIdx = 0;
    function typeWriter() {
        if (typeIdx <= message.length) {
            document.getElementById('typewriter').innerText = message.slice(0, typeIdx);
            typeIdx++;
            setTimeout(typeWriter, 120);
        }
    }
    window.addEventListener('DOMContentLoaded', typeWriter);

    // Random sweet words
    const words = [
        "子紜生日快樂w",
        "今天也要開心喔！",
        "我會一直陪著妳。",
        "大好きだよ ❤",
        "有妳真好。",
        "想你了~",
        "你是我最珍貴的寶物。"
    ];
    function showRandomWord() {
        const el = document.getElementById('random-words');
        el.innerText = words[Math.floor(Math.random() * words.length)];
    }
    setInterval(showRandomWord, 4000);
    window.addEventListener('DOMContentLoaded', showRandomWord);
    </script>
    <!-- Birthday counter -->
    <script type="text/javascript" src="time.js"></script>
    <!-- Canvas animation -->
    <script type="text/javascript" src="index.js"></script>
    <script>
    // Dot-matrix message carousel
    window.addEventListener('DOMContentLoaded', function() {
        if (window.S && S.UI && typeof S.UI.simulate === 'function') {
            // Auto line break for Happy Birthday on mobile
            function getMessages() {
                const isMobile = window.innerWidth <= 600;
                return [
                    "喵w",
                    "❤",
                    "LOVE",
                    isMobile ? "生日\n快樂" : "生日快樂",
                    "我愛妳",
                    "大好き"
                ].concat(isMobile ? [] : ["(♡˙︶˙♡)"]);
            }
            let messages = getMessages();
            let idx = 0;
            setInterval(function() {
                // Update messages if screen size changes
                const newMessages = getMessages();
                if (messages[1] !== newMessages[1]) {
                    messages = newMessages;
                }
                S.UI.simulate(`#letter ${messages[idx]}`);
                idx = (idx + 1) % messages.length;
            }, 5000);
        }
    });
    </script>
    <!-- Copyright -->
    <footer class="copyright-footer">
        ©2025 伊藤蒼太 itou Souta
    </footer>
</body>
</html>
